import { useState } from 'react';
import { Meta, Story, Preview, Props } from "@storybook/addon-docs/blocks";
import Dropdown from '.'
import { DropdownWrapperDocs } from './DocsStyle';

<Meta title="Dropdown" component={<Dropdown/>} />

# Dropdown

A simple Dropdown controlled component which receives an `options` prop which is an array of `{ value, displayName }` pairs 
and `defaultOption` prop which is an object of `{displayName, disabled}`. 

`value` is passed to the option tag as value prop while `displayName` is the value used in the dropdown UI.

Can accept a custom `color` parameter, otherwise it uses the theme `primary.main` color from the library itself.

```jsx
import { Dropdown } from '@inplayer-org/inplayer-ui';

const Page = () => (
  <Dropdown onChange={(e) => setValue(e.target.value)} options={options} value={value} />
)
```


### Standard dropdown
<Preview withSource="open">
  <Story name="standard">
    { ()=> {
    const options = [
        { value: 'Option 1', displayName: 'Option 1' },
        { value: 'Option 2', displayName: 'Option 2' },
    ];
    const [value, setValue] = useState(options[0].value);
    const defaultOption = { displayName: 'default value', disabled: true };
    return (
        <>
            <p>Selected option: {value}</p>
            <Dropdown onChange={(e) => setValue(e.target.value)} options={options} value={value} />
        </>
    )
  }}
  </Story>
</Preview>

### Standard dropdown with default option enabled
<Preview withSource="open">
  <Story name="default option">
    { ()=> {
    const options = [
        { value: 'Option 1', displayName: 'Option 1' },
        { value: 'Option 2', displayName: 'Option 2' },
    ];
    const [value, setValue] = useState(options[0].value);
    const defaultOption = { displayName: 'default value', disabled: true };
    return (
        <>
            <p>Selected option: {value}</p>
            <Dropdown onChange={(e) => setValue(e.target.value)} defaultOption={defaultOption} options={options} value={value} />
        </>
    )
  }}
  </Story>
</Preview>

### Font size modifiers
<Preview withSource="open">
  <Story name="size modifiers">
    { ()=> {
    const options = [
        { value: 'Option 1', displayName: 'Option 1' },
        { value: 'Option 2', displayName: 'Option 2' },
    ];
    const [fontSizeExtraSmallValue, setFontSizeExtraSmallValue] = useState(options[0].value);
    const [fontSizeSmallValue, setFontSizeSmallValue] = useState(options[0].value);
    const [fontSizeMediumValue, setFontSizeMediumValue] = useState(options[0].value);
    const [fontSizeLargeValue, setFontSizeLargeValue] = useState(options[0].value);
    const defaultOption = { displayName: 'default value', disabled: true };
    return (
        <DropdownWrapperDocs> 
            <Dropdown
                modifiers={['fontSizeExtraSmall']}
                options={options}
                value={fontSizeExtraSmallValue}
                onChange={(e) => setFontSizeExtraSmallValue(e.target.value)}
            />
            <Dropdown
                modifiers={['fontSizeSmall']}
                options={options}
                value={fontSizeSmallValue}
                onChange={(e) => setFontSizeSmallValue(e.target.value)}
            />
            <Dropdown
                modifiers={['fontSizeMedium']}
                options={options}
                value={fontSizeMediumValue}
                onChange={(e) => setFontSizeMediumValue(e.target.value)}
            />
            <Dropdown
                modifiers={['fontSizeLarge']}
                options={options}
                value={fontSizeLargeValue}
                onChange={(e) => setFontSizeLargeValue(e.target.value)}
            />
        </DropdownWrapperDocs>
    )
  }}
  </Story>
</Preview>

### Custom color Dropdown
<Preview withSource="open">
  <Story name="custom color">
    { ()=> {
    const options = [
        { value: 'Option 1', displayName: 'Option 1' },
        { value: 'Option 2', displayName: 'Option 2' },
    ];
    const [value, setValue] = useState(options[0].value);
    const defaultOption = { displayName: 'default value', disabled: true };
    return (
        <>
            <Dropdown
                options={options}
                value={value}
                onChange={(e) => setValue(e.target.value)}
                color="#936"
            />
        </>
    )
  }}
  </Story>
</Preview>

### Disabled Dropdown
<Preview withSource="open">
  <Story name="disabled">
    { ()=> {
    const options = [
        { value: 'Option 1', displayName: 'Option 1' },
        { value: 'Option 2', displayName: 'Option 2' },
    ];
    const [value, setValue] = useState(options[0].value);
    return (
        <>
            <Dropdown
                options={options}
                value={value}
                onChange={(e) => setValue(e.target.value)}
                disabled
            />
        </>
    )
  }}
  </Story>
</Preview>